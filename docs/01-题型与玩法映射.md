# 题型与玩法映射（核心设计 v0）

目标：把“复习资料的知识点类型”稳定映射成“可随机生成、可判分、可复现”的小游戏题型，并绑定动物城角色与场景元素，保证趣味性与可扩展性。

## 0. 术语
- **题型（Question Type）**：可判分的题目结构（输入/选项/答案/判分规则）。
- **玩法（Game Loop）**：题目呈现方式 + 操作方式 + 反馈动画/音效 + 结算。
- **知识点（Content Item）**：从复习资料结构化抽取的最小单元（字、词、多音字、反义词、句子结构、诗句等）。
- **一局（Run）**：一次进入关卡后生成的一套题，带 `seed` 以便复现。

## 1. 五种核心题型（MVP→可演进）

> 说明：这里的“题型”是学习维度；实现上可拆分为多个具体 QuestionType（如选择题/填空/拖拽）。

### T1 拼音认读
- **复习资料来源**：识字表（字-拼音-组词）。
- **最小题目结构**：给汉字，四选一拼音；或给拼音，四选一汉字。
- **玩法（MVP）**：点击正确拼音喂食动物（小蝌蚪/青蛙）。
- **动物城元素**：朱迪警官「识字卡」/水滴镇投喂任务。
- **随机化策略**：
  - 干扰项：同声母/同韵母/声调不同优先；不足时随机补齐。
  - 同一局去重：同一汉字不重复。
- **判分**：单选，完全匹配。
- **扩展点**：多音字加入后支持“根据词语选正确读音”。

### T2 字词辨析（多音字 / 近反义词 / 易混词）
- **复习资料来源**：多音字表、近反义词表、词语辨析（通常在复习资料后半段）。
- **最小题目结构**：
  - 多音字：给词语语境，选正确读音；或给读音选正确词。
  - 近反义词：给一个词，选近义/反义；或给句子选更恰当的词。
- **玩法（MVP）**：限时选择帮助“闪电树懒”做决定（慢也没关系，但会影响星级）。
- **动物城元素**：闪电树懒「慢速但正确」答题梗。
- **随机化策略**：
  - 干扰项优先使用同类知识点（同一多音字的另一个读音 / 同义词群）。
- **判分**：单选/判断题。
- **扩展点**：加入解释卡片（为什么选这个），并把错题加入错题本。

### T3 句子仿写
- **复习资料来源**：句型训练（如“……一边……一边……”/“像……一样……”/“把……写具体”）。
- **最小题目结构（MVP）**：拖拽词语完成句子（2~4 个槽位），或从词库选择填空。
- **玩法（MVP）**：狐狸尼克拼句挑战（把词语“拼”成通顺句子）。
- **动物城元素**：尼克「拼句/拼线索」小游戏。
- **随机化策略**：
  - 句型模板 + 可替换词库（同句型每次换素材）。
  - 生成时保证语义与语法合法（靠模板约束）。
- **判分**：槽位完全匹配（MVP）；后续可做同义词容错。

### T4 古诗背诵
- **复习资料来源**：古诗/日积月累（诗句、作者、题目、重点字词解释）。
- **最小题目结构（MVP）**：
  - 填空：挖空 1~3 个字/词。
  - 连线：诗句上半句 ↔ 下半句。
- **玩法（MVP）**：羊副市长诗词大会（答对点亮舞台灯）。
- **动物城元素**：羊副市长主持“诗词大会”。
- **随机化策略**：
  - 挖空位置随机；避免只背固定空。
  - 连线题随机打乱。
- **判分**：
  - 填空：完全匹配；后续可做繁简/标点容错。

### T5 课文理解
- **复习资料来源**：课后题/阅读理解题（选择、判断、简答）。
- **最小题目结构（MVP）**：选择题/判断题。
- **玩法（MVP）**：豹警官推理破案（选择正确线索）。
- **动物城元素**：豹警官「推理破案」。
- **随机化策略**：
  - 同一篇课文题库随机抽 3~5 题。
  - 题干与选项顺序打乱。
- **判分**：选择/判断。

## 2. “题型 → 数据结构”映射（用于后续工程实现）

| 题型 | 必需内容字段（Content Item） | 最小可实现题目形式 | 备注 |
|---|---|---|---|
| T1 拼音认读 | hanzi, pinyin, words? | 单选 | 你现在已有数据基础 |
| T2 字词辨析 | polyphone? / synonym / antonym / confusingWords | 单选/判断 | 需要从 docx 额外抽取 |
| T3 句子仿写 | patternId, template, slots, wordBank | 拖拽/选择填空 | 强烈建议模板化 |
| T4 古诗背诵 | title, author, lines[], keyChars? | 填空/连线 | 可控且趣味强 |
| T5 课文理解 | passageId, questions[] | 选择/判断 | 后续老师端上传会重点用 |

## 3. Unit1（第一单元）建议的题型占比（MVP）
- T1 拼音认读：50%（先把识字表吃透）
- T2 字词辨析：20%（如果文档能抽到，就加；抽不到先用“形近字/易混拼音”替代）
- T3 句子仿写：15%（至少 1 个句型模板）
- T4 古诗背诵：0~15%（若第一单元有古诗/日积月累就上）
- T5 课文理解：0~15%（若第一单元有阅读题就上）

> 结论：Unit1 先做出“能玩且不单调”的组合，不强求五题型全部齐全；但数据模型要为五题型预留。
